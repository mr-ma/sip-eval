```sip-eval``` project contains dataset of programs and a number of scripts to evaluate OH+SROH and SC protection on a given dataset. There are two directories containing dataset bitcodes. ```coverage_dataset``` contains bitcodes for which OH+SROH coverage measurements are done. ```protection_dataset``` contains bitcodes on which full protection is applied, i.e. OH+SROH+SC.
With the scripts following information can be generated

	- Input dependency coverage results
 	- OH+SROH protection coverage results for instructions and basic blocks
	- The coverage table in the paper
	- OH+SROH+SC Protection runtime data
	- Generate protected binaries
	- Protected binaries runtime

Input dependency coverage results
----------------------------------
To get input dependency analysis results as a tex table run ```generate-dataset-coverage-tables.sh``` script which internally runs following scripts

	./dataset_info.sh
	python dataset_info.py
	python tables_dump.py

The first script runs OH+SROH on bitcodes in ```coverage_dataset``` directory. This assumes also running input dependency analysis on those bitcodes. ```dataset_info.py``` parses statistics files generated by the previous script and creates json files out of them. It outputs three json files - ```coverage.json, dataset_info.json, paper_table.json```. Running ```tables_dump``` will generate tex tables from data in those json files. The json files are committed and one can just run ```tables_dump.py``` to generate tables. Generated tables are ```dataset_tables.tex``` which contains input dependency coverage data. Two other tables are generated by this script - ```paper_table.tex``` and ```coverage_table.tex```. All tablesa are placed in tex directory.


OH+SROH protection coverage results for instructions and basic blocks
---------------------------------------------------------------------
To generate OH+SROH protection coverage results run the same commands as for the input dependency coverage results. OH+SROH coverage results are in ```dataset_tables.tex``` as two separate tables for instruction coverage information and basic block coverage information. ```coverage_table.tex``` also contains coverage data combined into one tables. 

The coverage table in the paper
---------------------------------------
```paper_table.tex``` generated by ```generate-dataset-coverage-tables.sh``` contains the table from the paper.

OH+SROH+SC Protection runtime data
--------------------------------------------------
To compute average time it takes to protect bitcodes by OH+SROH and SC run ```measure-runtime.sh``` script which will run protection and also generate additional information for the time. Running ```measure-runtime.py``` will generate a table ```runtimes.tex``` in tex directory representing protection runtime data for the dataset programs. It also contains table for with mean, median and standard deviation for protection times. 

Run the whole experiment and dump data by executing:
sh run-all.sh



1. Apply clone and extract on programs (in BC format) in the dataset
2. Create 20 combination (at the most) of 10%, 25%, 50% and 100% of functions
3. Feed the function lists to the protection tool to generate protected binaries
	3.1. SC only is applied on input dependent functions
	3.2. SC is randomly applied on the provided functions
4. Hook system calls to bypass wait for input in games and other programs?
5. Run protection passes
6. Dump protected binaries in {ProgramName}_Protected_{#} format

